<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNP TCG: AI BATTLE ARENA (本格版)</title>
    <!-- 外部ライブラリとCSSの読み込み -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+JP:wght@400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="p-1 sm:p-4 text-xs sm:text-base">
    <!-- スタート画面 -->
    <div id="splash-screen" class="fixed inset-0 bg-gray-900 z-50 flex items-center justify-center transition-opacity duration-500">
        <div class="text-center p-8 bg-black/50 rounded-2xl shadow-2xl max-w-md w-full mx-4">
            <img src="https://cnptcg.s3.ap-northeast-1.amazonaws.com/images/logo/logo.png" alt="CNP TCG Logo" class="w-2/3 mx-auto mb-8">
            <div class="space-y-4">
                <input type="text" id="player1-name-input" placeholder="プレイヤー1の名前" class="w-full bg-gray-700 text-white p-3 rounded-lg text-center" value="りゅうや">
                <input type="text" id="player2-name-input" placeholder="プレイヤー2の名前" class="w-full bg-gray-700 text-white p-3 rounded-lg text-center" value="紫苑">
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <button id="start-pve-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-transform transform hover:scale-105">PLAYER vs AI</button>
                <button id="start-eve-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition-transform transform hover:scale-105">AI vs AI (高速)</button>
            </div>
        </div>
    </div>

    <!-- ゲーム画面 -->
    <div id="game-container" class="max-w-screen-2xl mx-auto flex flex-col h-screen opacity-0 transition-opacity duration-500">
        <!-- バトルフィールドコンテナ(絶対座標の基準) -->
        <div id="battlefield-container">
            <!-- 相手エリア -->
            <div id="opponent-name" class="ui-text opponent-name-pos">AI</div>
            <div id="opponent-hand-count" class="ui-text opponent-hand-pos">Hand: <span class="font-orbitron">0</span></div>
            <div id="opponent-reiki-count" class="ui-text opponent-reiki-pos">レイキ: <span class="font-orbitron">0</span></div>
            <div id="opponent-field-vanguard1" class="field-slot" data-type="field" data-owner="opponent" data-slot="vanguard1"></div>
            <div id="opponent-field-vanguard2" class="field-slot" data-type="field" data-owner="opponent" data-slot="vanguard2"></div>
            <div id="opponent-field-rearguard1" class="field-slot" data-type="field" data-owner="opponent" data-slot="rearguard1"></div>
            <div id="opponent-field-rearguard2" class="field-slot" data-type="field" data-owner="opponent" data-slot="rearguard2"></div>
            <div id="opponent-field-support" class="field-slot" data-type="field" data-owner="opponent" data-slot="support"></div>
            <div id="opponent-deck" class="deck" data-type="deck" data-owner="opponent"></div>
            <div id="opponent-trash" class="deck" data-type="trash" data-owner="opponent"></div>
            <div id="opponent-reiki-deck" class="deck" data-type="reiki-deck" data-owner="opponent"></div>
            <div id="opponent-bases" class="bases-container opponent-bases-pos"></div>

            <!-- プレイヤーエリア -->
            <div id="player-name" class="ui-text player-name-pos">PLAYER</div>
            <div id="player-hand-count" class="ui-text player-hand-pos">Hand: <span class="font-orbitron">0</span></div>
            <div id="player-reiki-count" class="ui-text player-reiki-pos">レイキ: <span class="font-orbitron">0</span></div>
            <div id="player-field-vanguard1" class="field-slot" data-type="field" data-owner="player" data-slot="vanguard1"></div>
            <div id="player-field-vanguard2" class="field-slot" data-type="field" data-owner="player" data-slot="vanguard2"></div>
            <div id="player-field-rearguard1" class="field-slot" data-type="field" data-owner="player" data-slot="rearguard1"></div>
            <div id="player-field-rearguard2" class="field-slot" data-type="field" data-owner="player" data-slot="rearguard2"></div>
            <div id="player-field-support" class="field-slot" data-type="field" data-owner="player" data-slot="support"></div>
            <div id="player-deck" class="deck" data-type="deck" data-owner="player"></div>
            <div id="player-trash" class="deck" data-type="trash" data-owner="player"></div>
            <div id="player-reiki-deck" class="deck" data-type="reiki-deck" data-owner="player"></div>
            <div id="player-bases" class="bases-container player-bases-pos"></div>

            <!-- 中央エリア -->
            <div id="phase-display" class="phase-indicator"></div>
            <div id="battle-log-container" class="battle-log-pos">
                <h2 class="text-sm font-bold text-gray-400 mb-1">BATTLE LOG</h2>
                <div id="battle-log" class="h-full overflow-y-auto pr-2 text-xs"></div>
            </div>
        </div>
        
        <!-- プレイヤー手札 & モーダル -->
        <div id="player-hand-area" class="flex-shrink-0 bg-gradient-to-t from-gray-900 via-gray-900/80 to-transparent p-2 flex justify-center items-end min-h-[160px] sm:min-h-[220px] pointer-events-none"><div id="player-hand-cards" class="flex gap-1 sm:gap-2 items-end pointer-events-auto"></div></div>
        <div id="modal-overlay" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-50"><div id="modal-content" class="bg-gray-800 border-2 border-amber-400 p-8 rounded-lg text-center shadow-2xl"><h2 id="modal-title" class="text-4xl font-bold mb-4 font-orbitron"></h2><p id="modal-text" class="text-lg text-gray-300 mb-6"></p><div id="modal-buttons" class="flex justify-center gap-4"></div></div></div>
    </div>

    <!-- JavaScriptモジュールの読み込み -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
